<!-- macros.html -->

{% macro book_modal(modal_id, modal_title, show_add_to_cart, item, id, form_id) %}

<div class="modal fade" id="{{id}}" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="{{id}}Label"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            </button>
          </div>
          <div class="modal-body">

                <!-- Here I removed the action attribute because it is set afterwards -->
                <form method="post"  id="{{form_id}}">
                <h1>{{modal_title}}</h1>
                
                {% if not show_add_to_cart  %}

                <label for="borrower_name">Your Name:</label>
                <input type="text" id="borrower_name" name="borrower_name" required><br>
                <label for="borrower_contact">Your Email:</label>

                <input type="email" id="borrower_contact" name="borrower_contact" required><br>

                <label for="borrower_phone">Your Phone</label>
                <input type="tel" id="borrower_phone" name="borrower_phone" required><br>

                {% endif %}

                {% if modal_id != '3'  %}

                <label for="borrow_date">Borrow Date:</label>
                <input type="date" id="borrow_date_{{modal_id}}" name="borrow_date" class="datepicker_borrow" required><br>
                <!-- <input type="date" id="borrow_date" name="borrow_date" required><br> -->
                <label for="return_date">Return Date:</label>
                <!-- <input type="date" id="return_date" name="return_date" required><br>        -->
                <input type="text" id="return_date_{{modal_id}}" name="return_date" class="datepicker" required><br>
                {% endif %}
                
                <input type="hidden" name="itemsJSON"     id="itemsJSON"    value="">
                <input type="hidden" name="booked_dates"  id="booked_dates" value="">
                <input type="hidden" name="action"        id="formAction" value="">

                {% if (show_add_to_cart  or  modal_id == '1') %}
                <button type="button" class="booking" onclick="submitForm('add_to_cart', this.form)" class="btn btn-secondary">Add to Cart</button>
                {% endif %}

                {% if not show_add_to_cart%}
                <button type="button" class="booking" onclick="submitForm('book', this.form)" class="btn btn-primary">Book Selected</button>
                {% endif %}
                
            </form>

          </div>
        </div>
      </div>
    </div>





{% endmacro %}